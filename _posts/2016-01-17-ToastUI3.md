---
layout: post
title: ToastUI-2
categories: [개인]
tags: [정보]
description: pagination test
comments: true
---

# Scrollend - Pagination

## 설치
- git에서 다운받아 압축해제
- scrollend.js를 해당 폴더에서 내 프로젝트 js에 복사
- cod-snippet, jquery는 .min으로 되어있어 개발용으로 이 전 프로젝트의 .js를 복사
- 여기서 js파일들이 이름이 중복되어 여러곳에 분포하는데 나 같은 경우 파일크기가 가장 큰 것을 사용...맞는지 모름
- 소스코드는 [샘플](http://nhnent.github.io/tui.component.scrollend/latest/tutorial-sample2.html)의 소스보기로 가져와 테스트
- 스타일시트가 없어 없이 진행
- loading.gif는 git에서 다운받은 곳 sample에 있음
- 이미지 경로 지정 `<img class='loading' src="<c:url value='/resources/img/loading.gif'/>" style="visibility: hidden;">`
- data.txt경로 지정 (URL로도 가능) `<li><a href="<c:url value='/resources/dist/data.txt?count=1'/>">1</a></li>`
- <ul>안에 <li>로 리스트 4개 지정 -> 스크롤 엔드 4번 동작
- url directory로 하면 계속 해당 url의 문서 가져와 출력

<img src="/assets/media/scrollend.png">

## 공부

**`var $container = $('#container')`**

- ID가져오기
	- Javascript에서 태그 id가져올 때 `document.getElementById("id")`
	- Jquery에서는 `$('#id')`
- 변수 선언
	- 자바스크립트는 `var 변수명` 
	- jQuery는 `var $변수명` : jquery변수로 juqery내장 함수를 모두 사용 가능

** <ul> <li> 태그 **
- ul은 순번이 없는 리스트
- ol은 순번이 있는 리스트
- li는 각 리스트의 행을 구분짓는 태그

** jQuery .find(selector) **
- `$container.find('.contents')`
- 돔 트리의 하위 요소를 찾아 새로운 jQuery객체를 생성

** `onScrollend = new tui.component.Scrollend(option)` **
- scrollend.js

		var ajaxData = {
			additionalParam : 1
		};
		var $container = $('#container'), onScrollend = new tui.component.Scrollend(
				{
					scrollBufferHeight : 30,
					delay : 1000,
					scrollendType : 'scrollbottom',
					scrollBinder : $container,
					ajax : {
						pagination : '#url-list',
						data : ajaxData,
						context : $container.find('.contents'),
						beforeSend : function(jqXHR, settings, event) {
							$('.footer .loading').css('visibility', 'visible');
						},
						success : function(data, textStatus, jqXHR, event) {
							this.append('<p>TYPE: SCROLLBOTTOM</p><p>' + data
									+ '</p>');
							ajaxData.additionalParam += 1;
						},
						error : function(jqXHR, textStatus, errorThrown, event) {
							alert('fail');
						},
						complete : function(data, textStatus, jqXHR, event) {
							$('.footer .loading').css('visibility', 'hidden');
						}
					}
				});



